<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Neuron AI</title>
    <style>
        body { font-family: sans-serif; max-width: 600px; margin: 50px auto; }
        textarea { width: 100%; height: 100px; margin-bottom: 10px; padding: 10px; }
        #output { border: 1px solid #ccc; padding: 15px; min-height: 50px; background-color: #f9f9f9; white-space: pre-wrap; }
    </style>
</head>
<body>
    <h1>üß† Neuron AI (–í–∞—à –ª–∏—á–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç)</h1>
    
    <textarea id="promptInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∑–∞–ø—Ä–æ—Å —Å—é–¥–∞..."></textarea>
    <button onclick="sendPrompt()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>

    <h2>–û—Ç–≤–µ—Ç:</h2>
    <div id="output">–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –æ—Ç–≤–µ—Ç...</div>

    <script>
        async function sendPrompt() {
            const promptText = document.getElementById('promptInput').value;
            const outputDiv = document.getElementById('output');
            outputDiv.innerText = "–î—É–º–∞—é...";

            try {
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ –Ω–∞—à –ü–†–û–ö–°–ò-–°–ï–†–í–ï–† (/api/chat)
                const response = await fetch('/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        // –ü–µ—Ä–µ–¥–∞–µ–º –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä—É —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                        messages: [{ role: "user", content: promptText }]
                    })
                });

                const data = await response.json();

                if (response.ok) {
                    // –û—Ç–≤–µ—Ç –æ—Ç –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—Ç–≤–µ—Ç –æ—Ç –º–æ–¥–µ–ª–∏
                    outputDiv.innerText = data.response;
                } else {
                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –µ—Å–ª–∏ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É
                    outputDiv.innerText = `–û—à–∏–±–∫–∞: ${data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}`;
                }

            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –∏–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞:', error);
                outputDiv.innerText = '–ü—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å.';
            }
        }
    </script>
</body>
</html>
